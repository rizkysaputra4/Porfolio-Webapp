{"ast":null,"code":"var _jsxFileName = \"E:\\\\portfolio2\\\\client\\\\src\\\\components\\\\wall-component\\\\Wall-Post.js\";\nimport Axios from \"axios\";\nimport React from \"react\";\nimport EditPost from \"./Edit-post-page\";\nimport svg from \"../svg-sources\";\nimport { TimelineLite } from \"gsap/all\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { isError } from \"@hapi/joi\";\nimport { post } from \"jquery\";\nexport default class Post extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.CommentTriggerButton = () => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-auto p-0\",\n        type: \"button\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": `#id${this.props.posts._id}`,\n        \"aria-expanded\": \"false\",\n        \"aria-controls\": \"comment-form\",\n        id: \"comment-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }\n      }, svg.comment));\n    };\n\n    this.notify = (isError, alert) => {\n      const options = {\n        position: \"top-center\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      };\n      isError ? toast.error(`${alert}`, options) : toast.success(`${alert}`, options);\n    };\n\n    this.EditDeletePostOption = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dropdown float-right\",\n        id: \"edit-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, svg.options, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dropdown-menu dropdown-menu-right\",\n        \"aria-labelledby\": \"dropdownMenuButton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(EditPost, {\n        postID: this.props.posts._id,\n        server: this.props.server,\n        className: \"dropdown-item\",\n        notify: this.notify,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"dropdown-item\",\n        onClick: () => {\n          this.deletePost(this.props.posts._id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, \"Delete\")));\n    };\n\n    this.CommentPostSection = () => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"px-1 mb-3 ml-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }\n      }, this.props.replyTab), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"divider\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, this.props.posts.reply.map(replyObj => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"comment-box px-3\",\n          key: Math.random(),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: this.props.picture(),\n          className: \"mr-3\",\n          alt: \"...\",\n          width: \"80\",\n          height: \"80\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"card-title mb-0 pb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 23\n          }\n        }, replyObj.userName, \" replied:\"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"text-sm-left mb-1\",\n          id: \"date\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 23\n          }\n        }, \"posted: \", replyObj.postedDate), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"text-left reply-content p-3 mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 23\n          }\n        }, replyObj.replyText)))));\n      })));\n    };\n\n    this.upvote = post_id => {\n      Axios.post(`${this.props.server}/upvotepost/${post_id}`).then(res => {\n        this.setState({\n          vote: this.state.vote + 1\n        });\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n\n    this.downvote = post_id => {\n      Axios.post(`${this.props.server}/downvotepost/${post_id}`).then(res => {\n        this.setState({\n          vote: this.state.vote - 1\n        });\n        console.log(res);\n      }).catch(err => console.log(err));\n    };\n\n    this.UpvoteDownvoteSection = () => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col w-auto d-flex justify-content-end\",\n        id: \"upvote-downvote\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        type: \"button\",\n        onClick: () => this.upvote(this.props.posts._id),\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 1000 1000\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M 100 0C 45 0 0 45 0 100C 0 100 0 900 0 900C 0 955 45 1000 100 1000C 100 1000 900 1000 900 1000C 955 1000 1000 955 1000 900C 1000 900 1000 100 1000 100C 1000 45 955 0 900 0C 900 0 100 0 100 0C 100 0 100 0 100 0M 100 75C 100 75 900 75 900 75C 914 75 925 86 925 100C 925 100 925 900 925 900C 925 914 914 925 900 925C 900 925 100 925 100 925C 86 925 75 914 75 900C 75 900 75 100 75 100C 75 86 86 75 100 75C 100 75 100 75 100 75 M 526 223C 526 223 526 223 526 223C 526 223 526 223 527 223C 527 223 727 423 727 423C 742 438 742 462 727 477C 712 492 688 492 673 477C 673 477 538 341 538 341C 538 341 538 750 538 750C 538 771 522 788 501 788C 480 789 463 771 463 750C 463 750 463 340 463 340C 463 340 327 477 327 477C 312 492 288 492 273 477C 258 462 258 438 273 423C 273 423 469 228 469 228C 476 218 488 212 500 212C 509 212 519 216 526 223C 526 223 526 223 526 223\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"px-2\",\n        id: \"vote-result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }\n      }, this.state.vote), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        type: \"button\",\n        onClick: () => this.downvote(this.props.posts._id),\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 1000 1000\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: \"M 100 0C 45 0 0 45 0 100C 0 100 0 900 0 900C 0 955 45 1000 100 1000C 100 1000 900 1000 900 1000C 955 1000 1000 955 1000 900C 1000 900 1000 100 1000 100C 1000 45 955 0 900 0C 900 0 100 0 100 0C 100 0 100 0 100 0M 100 75C 100 75 900 75 900 75C 914 75 925 86 925 100C 925 100 925 900 925 900C 925 914 914 925 900 925C 900 925 100 925 100 925C 86 925 75 914 75 900C 75 900 75 100 75 100C 75 86 86 75 100 75C 100 75 100 75 100 75M 526 223C 526 223 526 223 526 223C 526 223 526 223 527 223C 527 223 727 423 727 423C 742 438 742 462 727 477C 712 492 688 492 673 477C 673 477 538 341 538 341C 538 341 538 750 538 750C 538 771 522 788 501 788C 480 789 463 771 463 750C 463 750 463 340 463 340C 463 340 327 477 327 477C 312 492 288 492 273 477C 258 462 258 438 273 423C 273 423 469 228 469 228C 476 218 488 212 500 212C 509 212 519 216 526 223C 526 223 526 223 526 223\",\n        transform: \"rotate(180,500,500)\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 15\n        }\n      })))));\n    };\n\n    this.MainPost = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card w-75 mx-auto\",\n        id: \"post-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body mb-1 pb-1 border-bottom\",\n        id: \"post-cont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media\",\n        id: \"post-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.props.picture(),\n        height: \"140\",\n        width: \"140\",\n        className: \"mr-3\",\n        alt: \"...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container h-auto pb-0 mx-0 px-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"h-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }\n      }, this.EditDeletePostOption()), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title h-auto mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }\n      }, this.props.posts.userName))), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-sm-left mb-1\",\n        id: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }\n      }, \"posted: \", this.props.posts.dateCreated), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-left post-content p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 17\n        }\n      }, this.props.posts.post), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        id: \"replyGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 19\n        }\n      }, this.CommentTriggerButton(), this.UpvoteDownvoteSection()))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"collapse px-5  mt-2\",\n        id: `id${this.props.posts._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }\n      }, this.CommentPostSection()), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }\n      })));\n    };\n\n    this.cards = [];\n    this.tl = new TimelineLite({\n      paused: true\n    });\n    this.state = {\n      vote: this.props.posts.vote,\n      alert: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.tl.staggerTo(this.cards, 1, {\n      autoAlpha: 1,\n      y: 10\n    }, 1).play();\n  }\n\n  deletePost(post_id) {\n    axios.delete(`${this.props.server}/deletepost/${post_id}`).then(res => {\n      let isError = res.data.error;\n\n      if (isError) {\n        this.notify(isError, isError);\n      } else {\n        this.notify(isError, \"Post Deleted\");\n        const postList = this.props.postList;\n        const myPostList = this.props.myPostList;\n        console.log(myPostList);\n        const postListDeleted = postList.findIndex(el => {\n          return el._id === post_id;\n        });\n        console.log(myPostList);\n        /* const myPostListDeleted = myPostList.findIndex((el) => {\r\n          return el._id === post_id;\r\n        }); */\n\n        postList.splice(postListDeleted, 1);\n        /* myPostList.splice(myPostListDeleted, 1) */\n\n        console.log(postList);\n        this.props.updatePostList(postList, myPostList);\n      }\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(this.MainPost, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["E:/portfolio2/client/src/components/wall-component/Wall-Post.js"],"names":["Axios","React","EditPost","svg","TimelineLite","toast","axios","isError","post","Post","Component","constructor","props","CommentTriggerButton","posts","_id","comment","notify","alert","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","success","EditDeletePostOption","server","deletePost","CommentPostSection","replyTab","reply","map","replyObj","Math","random","picture","userName","postedDate","replyText","upvote","post_id","then","res","setState","vote","state","console","log","catch","err","downvote","UpvoteDownvoteSection","MainPost","dateCreated","cards","tl","paused","componentDidMount","staggerTo","autoAlpha","y","play","delete","data","postList","myPostList","postListDeleted","findIndex","el","splice","updatePostList","render"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport React from \"react\";\r\nimport EditPost from \"./Edit-post-page\";\r\nimport svg from \"../svg-sources\";\r\nimport { TimelineLite } from \"gsap/all\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport { isError } from \"@hapi/joi\";\r\nimport { post } from \"jquery\";\r\n\r\nexport default class Post extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.cards = [];\r\n    this.tl = new TimelineLite({ paused: true });\r\n\r\n    this.state = {\r\n      vote: this.props.posts.vote,\r\n      alert: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.tl.staggerTo(this.cards, 1, { autoAlpha: 1, y: 10 }, 1).play();\r\n  }\r\n\r\n  CommentTriggerButton = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"col-md-auto p-0\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target={`#id${this.props.posts._id}`}\r\n          aria-expanded=\"false\"\r\n          aria-controls=\"comment-form\"\r\n          id=\"comment-button\"\r\n        >\r\n          {svg.comment}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  deletePost(post_id) {\r\n    axios\r\n      .delete(`${this.props.server}/deletepost/${post_id}`)\r\n      .then((res) => {\r\n        let isError = res.data.error;\r\n        if (isError) {\r\n          this.notify(isError, isError);\r\n        } else {\r\n          this.notify(isError, \"Post Deleted\");\r\n\r\n          const postList = this.props.postList;\r\n          const myPostList = this.props.myPostList;\r\n          console.log(myPostList);\r\n          const postListDeleted = postList.findIndex((el) => {\r\n            return el._id === post_id;\r\n          });\r\n          console.log(myPostList);\r\n          /* const myPostListDeleted = myPostList.findIndex((el) => {\r\n            return el._id === post_id;\r\n          }); */\r\n          postList.splice(postListDeleted, 1);\r\n          /* myPostList.splice(myPostListDeleted, 1) */ console.log(postList);\r\n          this.props.updatePostList(postList, myPostList);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  notify = (isError, alert) => {\r\n    const options = {\r\n      position: \"top-center\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    };\r\n\r\n    isError\r\n      ? toast.error(`${alert}`, options)\r\n      : toast.success(`${alert}`, options);\r\n  };\r\n\r\n  EditDeletePostOption = () => {\r\n    return (\r\n      <div className=\"dropdown float-right\" id=\"edit-btn\">\r\n        {svg.options}\r\n\r\n        <div\r\n          className=\"dropdown-menu dropdown-menu-right\"\r\n          aria-labelledby=\"dropdownMenuButton\"\r\n        >\r\n          <EditPost\r\n            postID={this.props.posts._id}\r\n            server={this.props.server}\r\n            className=\"dropdown-item\"\r\n            notify={this.notify}\r\n          />\r\n          <button\r\n            className=\"dropdown-item\"\r\n            onClick={() => {\r\n              this.deletePost(this.props.posts._id);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  CommentPostSection = () => {\r\n    return (\r\n      <>\r\n        <div className=\"px-1 mb-3 ml-3\">{this.props.replyTab}</div>\r\n        <div id=\"divider\"></div>\r\n        <div>\r\n          {this.props.posts.reply.map((replyObj) => {\r\n            return (\r\n              <div className=\"comment-box px-3\" key={Math.random()}>\r\n                <div className=\"card-body\">\r\n                  <div className=\"media\">\r\n                    <img\r\n                      src={this.props.picture()}\r\n                      className=\"mr-3\"\r\n                      alt=\"...\"\r\n                      width=\"80\"\r\n                      height=\"80\"\r\n                    />\r\n                    <div className=\"media-body\">\r\n                      <h6 className=\"card-title mb-0 pb-0\">\r\n                        {replyObj.userName} replied:\r\n                      </h6>\r\n                      <p className=\"text-sm-left mb-1\" id=\"date\">\r\n                        posted: {replyObj.postedDate}\r\n                      </p>\r\n                      <p className=\"text-left reply-content p-3 mb-0\">\r\n                        {replyObj.replyText}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  upvote = (post_id) => {\r\n    Axios.post(`${this.props.server}/upvotepost/${post_id}`)\r\n      .then((res) => {\r\n        this.setState({ vote: this.state.vote + 1 });\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  downvote = (post_id) => {\r\n    Axios.post(`${this.props.server}/downvotepost/${post_id}`)\r\n      .then((res) => {\r\n        this.setState({ vote: this.state.vote - 1 });\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  UpvoteDownvoteSection = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"col w-auto d-flex justify-content-end\"\r\n          id=\"upvote-downvote\"\r\n        >\r\n          <div className=\"px-2\">\r\n            <svg\r\n              type=\"button\"\r\n              onClick={() => this.upvote(this.props.posts._id)}\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 1000 1000\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M 100 0C 45 0 0 45 0 100C 0 100 0 900 0 900C 0 955 45 1000 100 1000C 100 1000 900 1000 900 1000C 955 1000 1000 955 1000 900C 1000 900 1000 100 1000 100C 1000 45 955 0 900 0C 900 0 100 0 100 0C 100 0 100 0 100 0M 100 75C 100 75 900 75 900 75C 914 75 925 86 925 100C 925 100 925 900 925 900C 925 914 914 925 900 925C 900 925 100 925 100 925C 86 925 75 914 75 900C 75 900 75 100 75 100C 75 86 86 75 100 75C 100 75 100 75 100 75 M 526 223C 526 223 526 223 526 223C 526 223 526 223 527 223C 527 223 727 423 727 423C 742 438 742 462 727 477C 712 492 688 492 673 477C 673 477 538 341 538 341C 538 341 538 750 538 750C 538 771 522 788 501 788C 480 789 463 771 463 750C 463 750 463 340 463 340C 463 340 327 477 327 477C 312 492 288 492 273 477C 258 462 258 438 273 423C 273 423 469 228 469 228C 476 218 488 212 500 212C 509 212 519 216 526 223C 526 223 526 223 526 223\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"px-2\" id=\"vote-result\">\r\n            {this.state.vote}\r\n          </div>\r\n          <div className=\"px-2\">\r\n            <svg\r\n              type=\"button\"\r\n              onClick={() => this.downvote(this.props.posts._id)}\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 1000 1000\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M 100 0C 45 0 0 45 0 100C 0 100 0 900 0 900C 0 955 45 1000 100 1000C 100 1000 900 1000 900 1000C 955 1000 1000 955 1000 900C 1000 900 1000 100 1000 100C 1000 45 955 0 900 0C 900 0 100 0 100 0C 100 0 100 0 100 0M 100 75C 100 75 900 75 900 75C 914 75 925 86 925 100C 925 100 925 900 925 900C 925 914 914 925 900 925C 900 925 100 925 100 925C 86 925 75 914 75 900C 75 900 75 100 75 100C 75 86 86 75 100 75C 100 75 100 75 100 75M 526 223C 526 223 526 223 526 223C 526 223 526 223 527 223C 527 223 727 423 727 423C 742 438 742 462 727 477C 712 492 688 492 673 477C 673 477 538 341 538 341C 538 341 538 750 538 750C 538 771 522 788 501 788C 480 789 463 771 463 750C 463 750 463 340 463 340C 463 340 327 477 327 477C 312 492 288 492 273 477C 258 462 258 438 273 423C 273 423 469 228 469 228C 476 218 488 212 500 212C 509 212 519 216 526 223C 526 223 526 223 526 223\"\r\n                transform=\"rotate(180,500,500)\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  MainPost = () => {\r\n    return (\r\n      <div className=\"post-box\">\r\n        <br></br>\r\n        <div className=\"card w-75 mx-auto\" id=\"post-box\">\r\n          <div className=\"card-body mb-1 pb-1 border-bottom\" id=\"post-cont\">\r\n            <div className=\"media\" id=\"post-box\">\r\n              <img\r\n                src={this.props.picture()}\r\n                height=\"140\"\r\n                width=\"140\"\r\n                className=\"mr-3\"\r\n                alt=\"...\"\r\n              />\r\n              <div className=\"media-body\">\r\n                <div className=\"container h-auto pb-0 mx-0 px-0\">\r\n                  <div className=\"h-auto\">\r\n                    <div className=\"float-right\">\r\n                      {this.EditDeletePostOption()}\r\n                    </div>\r\n                    <h5 className=\"card-title h-auto mb-0\">\r\n                      {this.props.posts.userName}\r\n                    </h5>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-sm-left mb-1\" id=\"date\">\r\n                  posted: {this.props.posts.dateCreated}\r\n                </p>\r\n                <p className=\"text-left post-content p-3\">\r\n                  {this.props.posts.post}\r\n                </p>\r\n                <div className=\"container mb-3\">\r\n                  <div className=\"row\" id=\"replyGroup\">\r\n                    {this.CommentTriggerButton()}\r\n                    {this.UpvoteDownvoteSection()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"collapse px-5  mt-2\" id={`id${this.props.posts._id}`}>\r\n            {this.CommentPostSection()}\r\n          </div>\r\n          <div className=\"\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <this.MainPost />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}