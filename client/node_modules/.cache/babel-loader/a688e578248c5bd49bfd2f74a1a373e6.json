{"ast":null,"code":"var _jsxFileName = \"E:\\\\portfolio2\\\\client\\\\src\\\\components\\\\wall-component\\\\Reply-form.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nexport default class ReplyForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChangeReplyText = this.onChangeReplyText.bind(this);\n    this.onSubmitReply = this.onSubmitReply.bind(this);\n    this.state = {\n      replyText: \"\"\n    };\n  }\n\n  onChangeReplyText(e) {\n    this.setState({\n      replyText: e.target.value\n    });\n  }\n\n  onSubmitReply(e, post_id) {\n    e.preventDefault();\n    const postIndex = this.props.postList.findIndex(el => {\n      return el._id === post_id;\n    });\n    const myPostIndex = this.props.myPostList.findIndex(el => {\n      return el._id === post_id;\n    });\n    const reply = {\n      userName: this.state.userName,\n      replyText: this.state.replyText\n    };\n    axios.post(`${this.props.server}/replyPost/${post_id}`, reply).then(res => {\n      const postList = this.props.postList;\n      const myPostList = this.props.myPostList;\n      const updatePostList = this.props.updatePostList;\n      postList[postIndex].reply = res.data;\n\n      if (myPostList) {\n        console.log(myPostList);\n        myPostList[myPostIndex].reply = res.data;\n        updatePostList(postList, myPostList);\n      } else {\n        updatePostList(postList);\n      }\n    }).catch(err => console.log(err)); //console.log(this.state.postList);\n\n    this.setState({\n      replyText: \"\"\n    });\n  }\n\n  replyForm(post_id) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => this.onSubmitReply(e, post_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      id: \"comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"Write comment....\",\n      className: \"form-control\",\n      id: \"exampleFormControlTextarea1\",\n      rows: \"2\",\n      required: true,\n      value: this.state.replyText,\n      onChange: this.onChangeReplyText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Send Reply\",\n      className: \"btn btn-primary btn-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 12\n      }\n    }, this.replyForm(this.props.post._id));\n  }\n\n}","map":{"version":3,"sources":["E:/portfolio2/client/src/components/wall-component/Reply-form.js"],"names":["React","axios","ReplyForm","Component","constructor","props","onChangeReplyText","bind","onSubmitReply","state","replyText","e","setState","target","value","post_id","preventDefault","postIndex","postList","findIndex","el","_id","myPostIndex","myPostList","reply","userName","post","server","then","res","updatePostList","data","console","log","catch","err","replyForm","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class ReplyForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeReplyText = this.onChangeReplyText.bind(this);\r\n    this.onSubmitReply = this.onSubmitReply.bind(this);\r\n\r\n    this.state = {\r\n      replyText: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeReplyText(e) {\r\n    this.setState({\r\n      replyText: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmitReply(e, post_id) {\r\n    e.preventDefault();\r\n\r\n    const postIndex = this.props.postList.findIndex((el) => {\r\n      return el._id === post_id;\r\n    });\r\n    const myPostIndex = this.props.myPostList.findIndex((el) => {\r\n      return el._id === post_id;\r\n    });\r\n\r\n    const reply = {\r\n      userName: this.state.userName,\r\n      replyText: this.state.replyText,\r\n    };\r\n\r\n    axios\r\n      .post(`${this.props.server}/replyPost/${post_id}`, reply)\r\n      .then((res) => {\r\n        const postList = this.props.postList;\r\n        const myPostList = this.props.myPostList;\r\n        const updatePostList = this.props.updatePostList;\r\n        postList[postIndex].reply = res.data;\r\n\r\n        if (myPostList) {\r\n          console.log(myPostList);\r\n          myPostList[myPostIndex].reply = res.data;\r\n          updatePostList(postList, myPostList);\r\n        } else {\r\n          updatePostList(postList);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    //console.log(this.state.postList);\r\n\r\n    this.setState({\r\n      replyText: \"\",\r\n    });\r\n  }\r\n\r\n  replyForm(post_id) {\r\n    return (\r\n      <div>\r\n        <form onSubmit={(e) => this.onSubmitReply(e, post_id)}>\r\n          <div className=\"form-group\" id=\"comment\">\r\n            <textarea\r\n              placeholder=\"Write comment....\"\r\n              className=\"form-control\"\r\n              id=\"exampleFormControlTextarea1\"\r\n              rows=\"2\"\r\n              required\r\n              value={this.state.replyText}\r\n              onChange={this.onChangeReplyText}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Send Reply\"\r\n              className=\"btn btn-primary btn-sm\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.replyForm(this.props.post._id)}</div>;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}