{"ast":null,"code":"import _classCallCheck from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import{toast}from\"react-toastify\";import{Button,Collapse}from\"react-bootstrap\";var SendPost=/*#__PURE__*/function(_React$Component){_inherits(SendPost,_React$Component);var _super=_createSuper(SendPost);function SendPost(props){var _this;_classCallCheck(this,SendPost);_this=_super.call(this,props);_this.notify=function(alert){var options={position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined};toast.success(\"\".concat(alert),options);};_this.sendPost=function(){return/*#__PURE__*/React.createElement(\"div\",{className:\"add-post-box\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Post anything :)\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this.onSubmitPost(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",id:\"comment\"},/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"What do you think?\",className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"6\",required:true,value:_this.state.post,onChange:_this.onChangePost})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Send\",className:\"btn btn-primary\"}))));};_this.collapseButton=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{id:\"accordion\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-header\",id:\"headingThree\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"mb-0 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-link collapsed\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseThree\",\"aria-expanded\":\"false\",\"aria-controls\":\"collapseThree\"},\"Send Post\"))),/*#__PURE__*/React.createElement(\"div\",{id:\"collapseThree\",class:\"collapse\",\"aria-labelledby\":\"headingThree\",\"data-parent\":\"#accordion\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},_this.sendPost())))));};_this.onChangePost=_this.onChangePost.bind(_assertThisInitialized(_this));_this.onSubmitPost=_this.onSubmitPost.bind(_assertThisInitialized(_this));_this.openForm=_this.openForm.bind(_assertThisInitialized(_this));_this.state={post:\"\",isOpen:false};return _this;}_createClass(SendPost,[{key:\"onChangePost\",value:function onChangePost(e){this.setState({post:e.target.value});}},{key:\"onSubmitPost\",value:function onSubmitPost(e){var _this2=this;e.preventDefault();var post={post:this.state.post,withCredentials:true};axios.post(\"\".concat(this.props.server,\"/addPost\"),post).then(function(res){_this2.notify(\"Post Uploaded\");var postList=_this2.props.postList.reverse();var myPostList=_this2.props.myPostList;var updatePostList=_this2.props.updatePostList;postList.push(res.data);if(myPostList.length!==0&&typeof myPostList!==undefined){myPostList.reverse();myPostList.push(res.data);updatePostList(postList.reverse(),myPostList.reverse());}else{updatePostList(postList.reverse());}}).catch(function(err){return console.log(err);});this.setState({post:\"\"});}},{key:\"openForm\",value:function openForm(){this.setState(function(prevState){return{isOpen:!prevState.isOpen};});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(this.collapseButton,null));}}]);return SendPost;}(React.Component);export{SendPost as default};","map":{"version":3,"sources":["E:/portfolio2/client/src/components/wall-component/Send-post.js"],"names":["React","axios","toast","Button","Collapse","SendPost","props","notify","alert","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","success","sendPost","e","onSubmitPost","state","post","onChangePost","collapseButton","bind","openForm","isOpen","setState","target","value","preventDefault","withCredentials","server","then","res","postList","reverse","myPostList","updatePostList","push","data","length","catch","err","console","log","prevState","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button, Collapse } from \"react-bootstrap\";\r\n\r\nexport default class SendPost extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangePost = this.onChangePost.bind(this);\r\n    this.onSubmitPost = this.onSubmitPost.bind(this);\r\n    this.openForm = this.openForm.bind(this);\r\n    this.state = {\r\n      post: \"\",\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  onChangePost(e) {\r\n    this.setState({\r\n      post: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmitPost(e) {\r\n    e.preventDefault();\r\n    const post = {\r\n      post: this.state.post,\r\n      withCredentials: true,\r\n    };\r\n\r\n    axios\r\n      .post(`${this.props.server}/addPost`, post)\r\n      .then((res) => {\r\n        this.notify(\"Post Uploaded\");\r\n        const postList = this.props.postList.reverse();\r\n        const myPostList = this.props.myPostList;\r\n        const updatePostList = this.props.updatePostList;\r\n        postList.push(res.data);\r\n\r\n        if (myPostList.length !== 0 && typeof myPostList !== undefined) {\r\n          myPostList.reverse();\r\n          myPostList.push(res.data);\r\n          updatePostList(postList.reverse(), myPostList.reverse());\r\n        } else {\r\n          updatePostList(postList.reverse());\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({ post: \"\" });\r\n  }\r\n\r\n  notify = (alert) => {\r\n    const options = {\r\n      position: \"top-center\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    };\r\n\r\n    toast.success(`${alert}`, options);\r\n  };\r\n\r\n  sendPost = () => {\r\n    return (\r\n      <div className=\"add-post-box\">\r\n        <h3>Post anything :)</h3>\r\n        <form onSubmit={(e) => this.onSubmitPost(e)}>\r\n          <div className=\"form-group\" id=\"comment\">\r\n            <textarea\r\n              placeholder=\"What do you think?\"\r\n              className=\"form-control\"\r\n              id=\"exampleFormControlTextarea1\"\r\n              rows=\"6\"\r\n              required\r\n              value={this.state.post}\r\n              onChange={this.onChangePost}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input type=\"submit\" value=\"Send\" className=\"btn btn-primary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  openForm() {\r\n    this.setState((prevState) => ({\r\n      isOpen: !prevState.isOpen,\r\n    }));\r\n  }\r\n\r\n  collapseButton = () => {\r\n    return (\r\n      <>\r\n        {/* <Button\r\n          onClick={() => this.openForm()}\r\n          aria-controls=\"post-form\"\r\n          aria-expanded={this.state.isOpen}\r\n        >\r\n          Send Post\r\n        </Button>\r\n\r\n        <Collapse in={this.state.isOpen}>\r\n          <div id=\"post-form\">{this.sendPost()}</div>\r\n        </Collapse> */}\r\n\r\n        <div id=\"accordion\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header\" id=\"headingThree\">\r\n              <h5 class=\"mb-0 d-flex justify-content-center\">\r\n                <button\r\n                  class=\"btn btn-link collapsed\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#collapseThree\"\r\n                  aria-expanded=\"false\"\r\n                  aria-controls=\"collapseThree\"\r\n                >\r\n                  Send Post\r\n                </button>\r\n              </h5>\r\n            </div>\r\n            <div\r\n              id=\"collapseThree\"\r\n              class=\"collapse\"\r\n              aria-labelledby=\"headingThree\"\r\n              data-parent=\"#accordion\"\r\n            >\r\n              <div class=\"card-body\">{this.sendPost()}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <this.collapseButton />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}