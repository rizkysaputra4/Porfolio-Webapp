{"ast":null,"code":"import _classCallCheck from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";var SendPost=/*#__PURE__*/function(_React$Component){_inherits(SendPost,_React$Component);var _super=_createSuper(SendPost);function SendPost(props){var _this;_classCallCheck(this,SendPost);_this=_super.call(this,props);_this.sendPost=function(){return/*#__PURE__*/React.createElement(\"div\",{className:\"add-post-box\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Post anything :)\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this.onSubmitPost(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",id:\"comment\"},/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"What do you think?\",className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"6\",required:true,value:_this.state.post,onChange:_this.onChangePost})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Send\",className:\"btn btn-primary\"}))));};_this.onChangePost=_this.onChangePost.bind(_assertThisInitialized(_this));_this.onSubmitPost=_this.onSubmitPost.bind(_assertThisInitialized(_this));_this.state={post:\"\"};return _this;}_createClass(SendPost,[{key:\"onChangePost\",value:function onChangePost(e){this.setState({post:e.target.value});}},{key:\"onSubmitPost\",value:function onSubmitPost(e){var _this2=this;e.preventDefault();var post={post:this.state.post,withCredentials:true};axios.post(\"\".concat(this.props.server,\"/addPost\"),post).then(function(res){var postList=_this2.props.postList.reverse();postList.push(res.data);console.log(postList);_this2.props.updatePostList(postList.reverse(),_this2.props.myPostList);}).catch(function(err){return console.log(err);});this.setState({post:\"\"});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(this.sendPost,null));}}]);return SendPost;}(React.Component);export{SendPost as default};","map":{"version":3,"sources":["E:/portfolio2/client/src/components/wall-component/Send-post.js"],"names":["React","axios","SendPost","props","sendPost","e","onSubmitPost","state","post","onChangePost","bind","setState","target","value","preventDefault","withCredentials","server","then","res","postList","reverse","push","data","console","log","updatePostList","myPostList","catch","err","Component"],"mappings":"0tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,Q,gHACnB,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAmCnBC,QAnCmB,CAmCR,UAAM,CACf,mBACE,2BAAK,SAAS,CAAC,cAAf,eACE,iDADF,cAEE,4BAAM,QAAQ,CAAE,kBAACC,CAAD,QAAO,OAAKC,YAAL,CAAkBD,CAAlB,CAAP,EAAhB,eACE,2BAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,SAA/B,eACE,gCACE,WAAW,CAAC,oBADd,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,6BAHL,CAIE,IAAI,CAAC,GAJP,CAKE,QAAQ,KALV,CAME,KAAK,CAAE,MAAKE,KAAL,CAAWC,IANpB,CAOE,QAAQ,CAAE,MAAKC,YAPjB,EADF,CADF,cAYE,4CACE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,MAA3B,CAAkC,SAAS,CAAC,iBAA5C,EADF,CAZF,CAFF,CADF,CAqBD,CAzDkB,CAEjB,MAAKA,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKJ,YAAL,CAAoB,MAAKA,YAAL,CAAkBI,IAAlB,+BAApB,CACA,MAAKH,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAAb,CAJiB,aAOlB,C,uEAEYH,C,CAAG,CACd,KAAKM,QAAL,CAAc,CACZH,IAAI,CAAEH,CAAC,CAACO,MAAF,CAASC,KADH,CAAd,EAGD,C,kDAEYR,C,CAAG,iBACdA,CAAC,CAACS,cAAF,GACA,GAAMN,CAAAA,IAAI,CAAG,CACXA,IAAI,CAAE,KAAKD,KAAL,CAAWC,IADN,CAEXO,eAAe,CAAE,IAFN,CAAb,CAKAd,KAAK,CACFO,IADH,WACW,KAAKL,KAAL,CAAWa,MADtB,aACwCR,IADxC,EAEGS,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAMC,CAAAA,QAAQ,CAAG,MAAI,CAAChB,KAAL,CAAWgB,QAAX,CAAoBC,OAApB,EAAjB,CACAD,QAAQ,CAACE,IAAT,CAAcH,GAAG,CAACI,IAAlB,EACAC,OAAO,CAACC,GAAR,CAAYL,QAAZ,EACA,MAAI,CAAChB,KAAL,CAAWsB,cAAX,CAA0BN,QAAQ,CAACC,OAAT,EAA1B,CAA8C,MAAI,CAACjB,KAAL,CAAWuB,UAAzD,EACD,CAPH,EAQGC,KARH,CAQS,SAACC,GAAD,QAASL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAT,EART,EAUA,KAAKjB,QAAL,CAAc,CAAEH,IAAI,CAAE,EAAR,CAAd,EACD,C,uCA0BQ,CACP,mBACE,4CACE,yBAAM,QAAN,MADF,CADF,CAKD,C,sBAlEmCR,KAAK,CAAC6B,S,SAAvB3B,Q","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class SendPost extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangePost = this.onChangePost.bind(this);\r\n    this.onSubmitPost = this.onSubmitPost.bind(this);\r\n    this.state = {\r\n      post: \"\",\r\n    };\r\n  }\r\n\r\n  onChangePost(e) {\r\n    this.setState({\r\n      post: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmitPost(e) {\r\n    e.preventDefault();\r\n    const post = {\r\n      post: this.state.post,\r\n      withCredentials: true,\r\n    };\r\n\r\n    axios\r\n      .post(`${this.props.server}/addPost`, post)\r\n      .then((res) => {\r\n        const postList = this.props.postList.reverse();\r\n        postList.push(res.data);\r\n        console.log(postList);\r\n        this.props.updatePostList(postList.reverse(), this.props.myPostList);\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({ post: \"\" });\r\n  }\r\n\r\n  sendPost = () => {\r\n    return (\r\n      <div className=\"add-post-box\">\r\n        <h3>Post anything :)</h3>\r\n        <form onSubmit={(e) => this.onSubmitPost(e)}>\r\n          <div className=\"form-group\" id=\"comment\">\r\n            <textarea\r\n              placeholder=\"What do you think?\"\r\n              className=\"form-control\"\r\n              id=\"exampleFormControlTextarea1\"\r\n              rows=\"6\"\r\n              required\r\n              value={this.state.post}\r\n              onChange={this.onChangePost}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input type=\"submit\" value=\"Send\" className=\"btn btn-primary\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <this.sendPost />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}