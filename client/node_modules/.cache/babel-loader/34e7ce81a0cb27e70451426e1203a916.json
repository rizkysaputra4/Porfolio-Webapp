{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Asus A455L\\\\portfolio-rizky\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\Users\\\\Asus A455L\\\\portfolio-rizky\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Asus A455L\\\\portfolio-rizky\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Asus A455L\\\\portfolio-rizky\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Asus A455L\\\\portfolio-rizky\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Asus A455L\\\\portfolio-rizky\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,useState}from\"react\";import axios from\"axios\";/* import Modal from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap\";\r\nimport Form from \"react-bootstrap\"; */var server=\"http://localhost:5000/api\";var EditPost=/*#__PURE__*/function(_React$Component){_inherits(EditPost,_React$Component);var _super=_createSuper(EditPost);function EditPost(props){var _this;_classCallCheck(this,EditPost);_this=_super.call(this,props);_this.EditPostModal=function(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item\",onClick:handleShow},\"Edit\"));};_this.onChangeUpdatePost=_this.onChangeUpdatePost.bind(_assertThisInitialized(_this));_this.onSubmitUpdatePost=_this.onSubmitUpdatePost.bind(_assertThisInitialized(_this));_this.editPostForm=_this.editPostForm.bind(_assertThisInitialized(_this));_this.state={updateTextPost:\"\"};return _this;}_createClass(EditPost,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"\".concat(server,\"/get/\").concat(this.props.postID)).then(function(post){_this2.setState({updateTextPost:post.data.post});}).catch(function(err){return console.log(err);});}},{key:\"onChangeUpdatePost\",value:function onChangeUpdatePost(e){this.setState({updateTextPost:e.target.value});}},{key:\"onSubmitUpdatePost\",value:function onSubmitUpdatePost(e){e.preventdefault();var post={post:this.state.updateTextPost,withCredentials:true};axios.post(\"\".concat(server,\"/updatePost/\").concat(this.props.postID),post).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});this.setState({updateTextPost:\"\"});}},{key:\"editPostForm\",value:function editPostForm(){return{/* <Form onSubmit={() => this.onSubmitUpdatePost}>\r\n        <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={5}\r\n            value={this.state.updateTextPost}\r\n            onChange={this.onChangeUpdatePost}\r\n          />\r\n        </Form.Group>\r\n\r\n        <div className=\"w-100 d-flex justify-content-center\">\r\n          <Button className=\"mx-auto\" type=\"submit\">\r\n            Edit\r\n          </Button>\r\n        </div>\r\n      </Form> */};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(this.EditPostModal,null));}}]);return EditPost;}(React.Component);export{EditPost as default};","map":{"version":3,"sources":["C:/Users/Asus A455L/portfolio-rizky/portfolio2/client/src/components/wall-component/Edit-post-page.js"],"names":["React","Component","useState","axios","server","EditPost","props","EditPostModal","show","setShow","handleClose","handleShow","onChangeUpdatePost","bind","onSubmitUpdatePost","editPostForm","state","updateTextPost","get","postID","then","post","setState","data","catch","err","console","log","e","target","value","preventdefault","withCredentials","res"],"mappings":"okCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA;AACA,sCAEA,GAAMC,CAAAA,MAAM,CAAG,2BAAf,C,GAEqBC,CAAAA,Q,gHACnB,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAiEnBC,aAjEmB,CAiEH,UAAM,qBACIP,KAAK,CAACE,QAAN,CAAe,KAAf,CADJ,oDACbM,IADa,qBACPC,OADO,qBAGpB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMD,CAAAA,OAAO,CAAC,KAAD,CAAb,EAApB,CACA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMF,CAAAA,OAAO,CAAC,IAAD,CAAb,EAAnB,CAEA,mBACE,qDACE,8BAAQ,SAAS,CAAC,eAAlB,CAAkC,OAAO,CAAEE,UAA3C,SADF,CADF,CAuBD,CA9FkB,CAGjB,MAAKC,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,+BAA1B,CACA,MAAKC,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,+BAA1B,CACA,MAAKE,YAAL,CAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB,CAEA,MAAKG,KAAL,CAAa,CACXC,cAAc,CAAE,EADL,CAAb,CAPiB,aAUlB,C,kFAEmB,iBAClBd,KAAK,CACFe,GADH,WACUd,MADV,iBACwB,KAAKE,KAAL,CAAWa,MADnC,GAEGC,IAFH,CAEQ,SAACC,IAAD,CAAU,CACd,MAAI,CAACC,QAAL,CAAc,CAAEL,cAAc,CAAEI,IAAI,CAACE,IAAL,CAAUF,IAA5B,CAAd,EACD,CAJH,EAKGG,KALH,CAKS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALT,EAMD,C,8DAEkBG,C,CAAG,CACpB,KAAKN,QAAL,CAAc,CACZL,cAAc,CAAEW,CAAC,CAACC,MAAF,CAASC,KADb,CAAd,EAGD,C,8DAEkBF,C,CAAG,CACpBA,CAAC,CAACG,cAAF,GACA,GAAMV,CAAAA,IAAI,CAAG,CACXA,IAAI,CAAE,KAAKL,KAAL,CAAWC,cADN,CAEXe,eAAe,CAAE,IAFN,CAAb,CAKA7B,KAAK,CACFkB,IADH,WACWjB,MADX,wBACgC,KAAKE,KAAL,CAAWa,MAD3C,EACqDE,IADrD,EAEGD,IAFH,CAEQ,SAACa,GAAD,QAASP,CAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAAT,EAFR,EAGGT,KAHH,CAGS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAHT,EAKA,KAAKH,QAAL,CAAc,CACZL,cAAc,CAAE,EADJ,CAAd,EAGD,C,mDAEc,CACb,MAAO,CACL;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAhBW,CAAP,CAkBD,C,uCAiCQ,CACP,mBACE,4CACE,yBAAM,aAAN,MADF,CADF,CAKD,C,sBAvGmCjB,KAAK,CAACC,S,SAAvBI,Q","sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport axios from \"axios\";\r\n/* import Modal from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap\";\r\nimport Form from \"react-bootstrap\"; */\r\n\r\nconst server = \"http://localhost:5000/api\";\r\n\r\nexport default class EditPost extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeUpdatePost = this.onChangeUpdatePost.bind(this);\r\n    this.onSubmitUpdatePost = this.onSubmitUpdatePost.bind(this);\r\n    this.editPostForm = this.editPostForm.bind(this);\r\n\r\n    this.state = {\r\n      updateTextPost: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${server}/get/${this.props.postID}`)\r\n      .then((post) => {\r\n        this.setState({ updateTextPost: post.data.post });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  onChangeUpdatePost(e) {\r\n    this.setState({\r\n      updateTextPost: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmitUpdatePost(e) {\r\n    e.preventdefault();\r\n    const post = {\r\n      post: this.state.updateTextPost,\r\n      withCredentials: true,\r\n    };\r\n\r\n    axios\r\n      .post(`${server}/updatePost/${this.props.postID}`, post)\r\n      .then((res) => console.log(res))\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({\r\n      updateTextPost: \"\",\r\n    });\r\n  }\r\n\r\n  editPostForm() {\r\n    return {\r\n      /* <Form onSubmit={() => this.onSubmitUpdatePost}>\r\n        <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={5}\r\n            value={this.state.updateTextPost}\r\n            onChange={this.onChangeUpdatePost}\r\n          />\r\n        </Form.Group>\r\n\r\n        <div className=\"w-100 d-flex justify-content-center\">\r\n          <Button className=\"mx-auto\" type=\"submit\">\r\n            Edit\r\n          </Button>\r\n        </div>\r\n      </Form> */\r\n    };\r\n  }\r\n\r\n  EditPostModal = () => {\r\n    const [show, setShow] = React.useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    return (\r\n      <>\r\n        <button className=\"dropdown-item\" onClick={handleShow}>\r\n          Edit\r\n        </button>\r\n\r\n        {/* <Modal\r\n          size=\"lg\"\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n          show={show}\r\n          onHide={handleClose}\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <div className=\"w-100 d-flex justify-content-center\">\r\n              <Modal.Title>Edit Post</Modal.Title>\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Body>{this.editPostForm()}</Modal.Body>\r\n        </Modal> */}\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <this.EditPostModal />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}