{"ast":null,"code":"import _classCallCheck from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\portfolio2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";var ReplyForm=/*#__PURE__*/function(_React$Component){_inherits(ReplyForm,_React$Component);var _super=_createSuper(ReplyForm);function ReplyForm(props){var _this;_classCallCheck(this,ReplyForm);_this=_super.call(this,props);_this.onChangeReplyText=_this.onChangeReplyText.bind(_assertThisInitialized(_this));_this.onSubmitReply=_this.onSubmitReply.bind(_assertThisInitialized(_this));_this.state={replyText:\"\"};return _this;}_createClass(ReplyForm,[{key:\"onChangeReplyText\",value:function onChangeReplyText(e){this.setState({replyText:e.target.value});}},{key:\"onSubmitReply\",value:function onSubmitReply(e,post_id){var _this2=this;e.preventDefault();var reply={userName:this.state.userName,replyText:this.state.replyText};axios.post(\"\".concat(this.props.server,\"/replyPost/\").concat(post_id),reply).then(function(res){var postIndex=_this2.props.postList.findIndex(function(el){return el._id===post_id;});var postList=_this2.props.postList;var myPostList=_this2.props.myPostList;var updatePostList=_this2.props.updatePostList;postList[postIndex].reply=res.data;if(myPostList){var myPostIndex=_this2.props.myPostList.findIndex(function(el){return el._id===post_id;});if(myPostList[myPostIndex]){myPostList[myPostIndex].reply=res.data;updatePostList(postList,myPostList);}else{updatePostList(postList);}}else{updatePostList(postList);}}).catch(function(err){return console.log(err);});this.setState({replyText:\"\"});}},{key:\"replyForm\",value:function replyForm(post_id){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this3.onSubmitReply(e,post_id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",id:\"comment\"},/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Write comment....\",className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"2\",required:true,value:this.state.replyText,onChange:this.onChangeReplyText})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Send Reply\",className:\"btn btn-primary btn-sm\"}))));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,this.replyForm(this.props.post._id));}}]);return ReplyForm;}(React.Component);export{ReplyForm as default};","map":{"version":3,"sources":["E:/portfolio2/client/src/components/wall-component/Reply-form.js"],"names":["React","axios","ReplyForm","props","onChangeReplyText","bind","onSubmitReply","state","replyText","e","setState","target","value","post_id","preventDefault","reply","userName","post","server","then","res","postIndex","postList","findIndex","el","_id","myPostList","updatePostList","data","myPostIndex","catch","err","console","log","replyForm","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class ReplyForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeReplyText = this.onChangeReplyText.bind(this);\r\n    this.onSubmitReply = this.onSubmitReply.bind(this);\r\n\r\n    this.state = {\r\n      replyText: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeReplyText(e) {\r\n    this.setState({\r\n      replyText: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmitReply(e, post_id) {\r\n    e.preventDefault();\r\n\r\n    const reply = {\r\n      userName: this.state.userName,\r\n      replyText: this.state.replyText,\r\n    };\r\n\r\n    axios\r\n      .post(`${this.props.server}/replyPost/${post_id}`, reply)\r\n      .then((res) => {\r\n        const postIndex = this.props.postList.findIndex((el) => {\r\n          return el._id === post_id;\r\n        });\r\n        const postList = this.props.postList;\r\n        const myPostList = this.props.myPostList;\r\n        const updatePostList = this.props.updatePostList;\r\n        postList[postIndex].reply = res.data;\r\n\r\n        if (myPostList) {\r\n          const myPostIndex = this.props.myPostList.findIndex((el) => {\r\n            return el._id === post_id;\r\n          });\r\n          if (myPostList[myPostIndex]) {\r\n            myPostList[myPostIndex].reply = res.data;\r\n            updatePostList(postList, myPostList);\r\n          } else {\r\n            updatePostList(postList);\r\n          }\r\n        } else {\r\n          updatePostList(postList);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({\r\n      replyText: \"\",\r\n    });\r\n  }\r\n\r\n  replyForm(post_id) {\r\n    return (\r\n      <div>\r\n        <form onSubmit={(e) => this.onSubmitReply(e, post_id)}>\r\n          <div className=\"form-group\" id=\"comment\">\r\n            <textarea\r\n              placeholder=\"Write comment....\"\r\n              className=\"form-control\"\r\n              id=\"exampleFormControlTextarea1\"\r\n              rows=\"2\"\r\n              required\r\n              value={this.state.replyText}\r\n              onChange={this.onChangeReplyText}\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Send Reply\"\r\n              className=\"btn btn-primary btn-sm\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.replyForm(this.props.post._id)}</div>;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}